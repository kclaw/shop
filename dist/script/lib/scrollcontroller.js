define("scrollcontroller",["jquery"],function(n){var l=function o(l){function r(){c()?S.forEach(function(n){n()}):a()&&p.forEach(function(n){n()}),v.forEach(function(n){n.top===E&&n.callback()}),v.forEach(function(n){e(E,n)&&n.callback()}),w.forEach(function(n){console.log(u()),u()&&n()})}function e(n,l){return l.top<=n+50&&l.top>=n-50?!0:!1}function t(n){var l=k.filter(function(l){return l.arg1.selector===n.selector});if(l&&l.length>0)return l[0];var r=new o(n);return k.push(r),r}function c(){if(0==arguments.length)return b>E;if(1==arguments.length){var n=t(arguments[0]);return n.isScrollUp()}}function a(){if(0==arguments.length)return E>b;if(1==arguments.length){var n=t(arguments[0]);return n.isScrollDown()}}function u(){if(console.log("isScrollEnd is called "+m),0==arguments.length){if(m===document){var l=n(document).height(),o=n(window).scrollTop()+n(window).height();return(l-o)/l===0}return console.log("isScrollEnd"),m.scrollTop()+m.innerHeight()>=m[0].scrollHeight}if(1==arguments.length){var r=t(arguments[0]);return r.isScrollEnd()}}function s(){if(0!=arguments.length)if(1==arguments.length)S.push(arguments[0]);else if(2==arguments.length){var n=t(arguments[0]);n.addScrollUpCallBack(arguments[1])}}function i(n){p.push(n)}function f(n,l){v.push({top:n,callback:l})}function g(){if(0!=arguments.length)if(1==arguments.length)w.push(arguments[0]);else if(2==arguments.length){var n=t(arguments[0]);n.addScrollEndCallBack(arguments[1])}}function d(l){console.log("disableScroll"),l?l.css("overflow","hidden"):n("body").css("overflow","hidden")}function h(l){console.log("enableScroll"),l?l.css("overflow","auto"):n("body").css("overflow","auto")}var m=l||document,S=[],p=[],v=[],w=[],E=0,b=0,k=[];return n(document).ready(function(){n(m).scroll(function(){b=E,E=n(this).scrollTop(),r()})}),{isScrollUp:c,isScrollDown:a,isScrollEnd:u,enableScroll:h,disableScroll:d,addScrollUpCallBack:s,addScrollDownCallBack:i,addScrollPositionCallBack:f,addScrollEndCallBack:g,arg1:m}}();return l});
